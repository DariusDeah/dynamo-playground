# dynamo-playground
This is a dynamo playgroud/helper, the point of this repo is to create an interface that simplifies the process of working with dynamodb by building a local database to preform actions on.
But before utlizing this repo there are a few things you'll need to do for setup.

1. make sure you have docker installed on your machine 
2. authenticate into your docker (if you have docker desktop this process is fairly simple)
3. consider downloading nosql workbench 
4. make sure node.js is installed on your machine 

once all the requirements are meet you are good to install the dependencies, run the following command in your terminal 

```
npm ci
```
after installing the dependency the next steps include setting up docker and nosql workbench 

1. open docker desktop or start the docker daemon
2. to pull the aws dynamodb image from docker hub run the following command in your project terminal 

```
npm run pull:db
```

3. after pulling the db you are good start the db with this command you should see a serial of autogenerated characters print in your terminal
4. 
```
npm run start:db
```
to commit changes such as adding a table or inputting items simply navigate to the visualizer tab and click "Commit to DynamoDB" once you've clicked proceed to select your local instance as the DB
![image](https://user-images.githubusercontent.com/87291541/187732838-ffb0269d-8eef-45d4-81df-eff3f3ac2ec2.png)
![image](https://user-images.githubusercontent.com/87291541/187742909-a0f1a16a-19ff-488d-ae37-dc9be2353aa0.png)


> to learn more about nosql workbench setup visit -> https://blog.phillipninan.com/using-nosql-workbench-for-a-local-dynamodb
-----

## Using dynamo-helper

### Table Creation 

creating a table with dynamo-helper is very straight foward simply specify you partion or composite keys and dynamo-helper will make the request for you and return the data back or if an error is encountered the error will be sent back as well as logged to the terminal in an easy to understand format heres the format 
```
dynamoHelper.createTable(Table Name:<string> ,[{
fieldName:<string>,
dataType:<string>,
isPrimaryKey:<boolean>
}],
 {
    enableStream: <boolean>,
    StreamViewType: <string>,
 }
  )

```
  
and here's an example of a request

```
dynamoHelper.createTable("user",  [
    {
      fieldName: "user_id",
      dataType: dynamoHelper.dataTypes.string,
      isPrimaryKey: true,
    },
  ],
  {
    enableStream: true,
    StreamViewType: dynamoHelper.streamViewTypes.NEW_AND_OLD_IMAGES,
  })
  
```

### Data Input
Inputing an item with dynamo-helper is as simple as creating tables and it avoids the heavy nesting you would face when using aws sdk dynamodb client
here's the format 

```
dynamoHelper.putItem(Table Name:<string>,[
{
fieldName:<strinng>,
dataType:<string>,
value:<string>
}

])
```
and here's an example of a request
```
dynamoHelper.putItem("user", [
  {
    fieldName: "user_id",
    dataType: dynamoHelper.dataTypes.string,
    value: "auth0|112",
  },
  {
    fieldName: "name",
    dataType: dynamoHelper.dataTypes.string,
    value: "Bob Dylan",
  },
  {
    fieldName: "skills",
    dataType: dynamoHelper.dataTypes.stringset,
    value: ["comp-sci", "education", "physics"],
  },
]);

```


